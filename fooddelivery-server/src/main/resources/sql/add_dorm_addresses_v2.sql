-- ============================================
-- 添加广东科技学院宿舍地址数据 (A4 ~ A10)
-- 并将所有地址性别改为先生 (sex = '0')
-- ============================================

USE `food_delivery_system`;

-- 1. 获取当前用户ID (最新创建的用户)
SET @user_id = (SELECT id FROM `user` ORDER BY create_time DESC LIMIT 1);

-- 2. 清空该用户的原有A4-A10地址（避免重复）
DELETE FROM `address_book` WHERE user_id = @user_id AND detail LIKE '广东科技学院A%宿舍楼';

-- 3. 插入 A4 ~ A10 宿舍楼地址 (性别设为 '0' 即先生)
INSERT INTO `address_book` 
    (`user_id`, `consignee`, `phone`, `sex`, `province_code`, `province_name`, 
     `city_code`, `city_name`, `district_code`, `district_name`, `detail`, 
     `label`, `is_default`)
VALUES
    (@user_id, '木东', '13800138004', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A4宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138005', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A5宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138006', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A6宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138007', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A7宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138008', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A8宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138009', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A9宿舍楼', '学校', 0),
    (@user_id, '木东', '13800138010', '0', '440000', '广东省', '441900', '东莞市', '441900', '石排镇', '广东科技学院A10宿舍楼', '学校', 0);

-- 4. 更新该用户所有地址的性别为 '0' (先生)
UPDATE `address_book` SET sex = '0' WHERE user_id = @user_id;

-- 5. 验证结果
SELECT id, consignee, detail, sex FROM `address_book` WHERE user_id = @user_id;

